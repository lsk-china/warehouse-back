<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title></title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="icon" href="/favicon.ico">
    <link href="//unpkg.com/layui@2.10.2/dist/css/layui.css" rel="stylesheet">
    <link rel="stylesheet" href="/resources/css/public.css" media="all" />
    <script src="//unpkg.com/layui@2.10.2/dist/layui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        #mainContainer {
            height: 100vh;
            width: 100vw;
        }
        #tablePanel {
            width: 820px;
            margin: 10px;
            padding: 10px;
        }
    </style>
</head>
<body>
    <div id="mainContainer">
        <div class="layui-panel" id="tablePanel">
            <h2>流水报表</h2>
            <table id="table" class="layui-table">
            </table>
        </div>
    </div>
    <script>
        layui.use('table', function () {
            let table = layui.table
            table.render({
                elem: '#table',
                url: '/statistics/flow',
                page: true,
                parseData: resp => {
                    console.log(resp)
                    return {
                        code: resp.code,
                        msg: resp.msg,
                        count: resp.count,
                        data: resp.data,
                    }
                },
                cols: Array([
                    {
                        field: 'id',
                        title: 'ID',
                        width: 80,
                        fixed: 'left',
                        sort: true
                    },
                    {
                        field: 'goodsName',
                        title: '商品名',
                        width: 200,
                    },
                    {
                        field: 'providerName',
                        title: '供应商',
                        width: 200,
                    },
                    {
                        field: 'price',
                        title: '单价',
                        width: 80,
                    },
                    {
                        field: 'totalCost',
                        title: '总支出',
                        width: 80,
                    },
                    {
                        field: 'totalIncome',
                        title: '总收入',
                        width: 80,
                    },
                    {
                        field: 'totalProfit',
                        title: '总利润',
                        width: 80
                    }
                ])
            })
        })
    </script>
</body>
</html>